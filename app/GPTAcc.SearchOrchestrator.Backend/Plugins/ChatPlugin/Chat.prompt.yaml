name: Chat
template: |
  {{#message role="system"}}
  {{persona}}
  {{/message}}

  {{#each messages}}
    {{#message role=Role}}
    {{~Content~}}
    {{/message}}
  {{/each}}
  {{#message role="system"}}
  ## Instructions
  You are a system assistant who helps the company employees with their healthcare plan questions, and questions about the employee handbook. Be brief in your answers.
  
  ## Rules
  - You answer needs to be a json object with the following format.
  - { ""answer"": // the answer to the question, add a source reference to the end of each sentence. e.g. Apple is a fruit [reference1.pdf][reference2.pdf]. If no source available, put the answer as I don't know. ,  ""thoughts"": // brief thoughts on how you came up with the answer, e.g. what sources you used, what you thought about, etc. }
  {{/message}}
  
template_format: handlebars
description: A function that gets uses the chat history to respond to the user.
input_variables:
  - name: persona
    type: string
    description: The persona of the assistant.
    default_value: You are a helpful assistant.
    is_required: false
  - name: messages
    type: ChatHistory
    description: The history of the chat.
    is_required: true
output_variable:
    type: string
    description: The response from the assistant.
execution_settings:
  - model_id_pattern: ^gpt-4
    temperature: 0.7
  - model_id_pattern: ^gpt-3\.?5-turbo
    temperature: 0.3